<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Pixel Square — Random Colors</title>
  <style>
    body {
      background-color: black; /* черный фон вокруг квадрата */
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }
    canvas {
      image-rendering: pixelated;
      border: 2px solid #333;
    }
  </style>
</head>
<body>
  <canvas id="px"></canvas>

  <script>
    const logicalSize = 32;   // Размер квадрата в пикселях (логический)
    const scale = 15;         // Масштаб отображения
    const canvas = document.getElementById('px');
    canvas.width = logicalSize;
    canvas.height = logicalSize;
    canvas.style.width = (logicalSize * scale) + 'px';
    canvas.style.height = (logicalSize * scale) + 'px';

    const ctx = canvas.getContext('2d');
    const img = ctx.createImageData(logicalSize, logicalSize);
    const data = img.data;

    // Определяем возможные цвета (RGBA)
    const colors = {
      gray:   [128, 128, 128, 255],
      green:  [0, 255, 0, 255],
      yellow: [255, 255, 0, 255],
      blue:   [0, 128, 255, 255]
    };
    const colorKeys = Object.keys(colors);

    for (let y = 0; y < logicalSize; y++) {
      for (let x = 0; x < logicalSize; x++) {
        const idx = (y * logicalSize + x) * 4;

        // Выбираем случайный цвет
        const randKey = colorKeys[Math.floor(Math.random() * colorKeys.length)];
        const [r, g, b, a] = colors[randKey];

        data[idx] = r;
        data[idx + 1] = g;
        data[idx + 2] = b;
        data[idx + 3] = a;
      }
    }

    ctx.putImageData(img, 0, 0);
  </script>
</body>
</html>
